2020-08-10T08:17:24.309280 WARN   Bolt::CLI: CLI arguments ["run-as"] may be overridden by Inventory: /root/my_projects_bolt/server_setup/inventory.yaml
2020-08-10T08:17:24.309469 INFO   Bolt::PAL: Loading modules from /opt/puppetlabs/bolt/lib/ruby/gems/2.5.0/gems/bolt-2.21.0/bolt-modules:/root/my_projects_bolt/server_setup/modules:/root/my_projects_bolt/server_setup/site-modules:/root/my_projects_bolt/server_setup/site:/opt/puppetlabs/bolt/lib/ruby/gems/2.5.0/gems/bolt-2.21.0/modules
2020-08-10T08:17:24.704704 NOTICE Bolt::Outputter::Logger: Starting: plan server_setup::deploy
2020-08-10T08:17:24.803075 INFO   Bolt::Outputter::Logger: Starting: install puppet and gather facts on 192.168.167.151
2020-08-10T08:17:24.870788 INFO   Bolt::Outputter::Logger: Starting: task puppet_agent::install on 192.168.167.151
2020-08-10T08:17:24.871852 INFO   Bolt::Executor: Running task puppet_agent::install with '{"stop_service":true,"_task":"puppet_agent::install"}' on ["192.168.167.151"]
2020-08-10T08:17:25.680257 INFO   Bolt::Executor: {"target":"192.168.167.151","action":"task","object":"puppet_agent::install","status":"success","value":{"_output":"08:17:25 +0200 INFO: Version parameter not defined and agent detected. Nothing to do.\n"}}
2020-08-10T08:17:25.681068 INFO   Bolt::Outputter::Logger: Finished: task puppet_agent::install with 0 failures in 0.81 sec
2020-08-10T08:17:25.681143 INFO   Bolt::Outputter::Logger: Starting: task apply_helpers::custom_facts on 192.168.167.151
2020-08-10T08:17:25.681329 INFO   Bolt::Executor: Running task apply_helpers::custom_facts with '{"plugins":"Sensitive [value redacted]","_task":"apply_helpers::custom_facts"}' on ["192.168.167.151"]
2020-08-10T08:17:27.900050 INFO   Bolt::Executor: {"target":"192.168.167.151","action":"task","object":"apply_helpers::custom_facts","status":"success","value":{"aio_agent_version":"6.17.0","architecture":"x86_64","augeas":{"version":"1.12.0"},"augeasversion":"1.12.0","bios_release_date":"12/01/2006","bios_vendor":"innotek GmbH","bios_version":"VirtualBox","blockdevice_sda_model":"VBOX HARDDISK","blockdevice_sda_size":8589934592,"blockdevice_sda_vendor":"ATA","blockdevice_sr0_model":"CD-ROM","blockdevice_sr0_size":1073741312,"blockdevice_sr0_vendor":"VBOX","blockdevices":"sda,sr0","boardmanufacturer":"Oracle Corporation","boardproductname":"VirtualBox","boardserialnumber":"0","chassistype":"Other","dhcp_servers":{"enp0s3":"10.0.2.2","system":"10.0.2.2"},"disks":{"sda":{"model":"VBOX HARDDISK","size":"8.00 GiB","size_bytes":8589934592,"vendor":"ATA"},"sr0":{"model":"CD-ROM","size":"1.00 GiB","size_bytes":1073741312,"vendor":"VBOX"}},"dmi":{"bios":{"release_date":"12/01/2006","vendor":"innotek GmbH","version":"VirtualBox"},"board":{"manufacturer":"Oracle Corporation","product":"VirtualBox","serial_number":"0"},"chassis":{"type":"Other"},"manufacturer":"innotek GmbH","product":{"name":"VirtualBox","serial_number":"0","uuid":"9CF0A9A1-FE61-41DA-B449-7DE4286D45E0"}},"domain":"home","facterversion":"3.14.12","filesystems":"xfs","fips_enabled":false,"fqdn":"prometeo.home","gid":"root","hardwareisa":"x86_64","hardwaremodel":"x86_64","hostname":"prometeo","hypervisors":{"virtualbox":{"revision":"137981","version":"6.1.8"}},"id":"root","identity":{"gid":0,"group":"root","privileged":true,"uid":0,"user":"root"},"interfaces":"enp0s3,enp0s8,lo","ipaddress":"10.0.2.15","ipaddress6":"fe80::a1d1:d393:b45b:5c5c","ipaddress6_enp0s3":"fe80::a1d1:d393:b45b:5c5c","ipaddress6_enp0s8":"fe80::a00:27ff:fecb:8d95","ipaddress6_lo":"::1","ipaddress_enp0s3":"10.0.2.15","ipaddress_enp0s8":"192.168.167.151","ipaddress_lo":"127.0.0.1","is_virtual":true,"kernel":"Linux","kernelmajversion":"3.10","kernelrelease":"3.10.0-957.27.2.el7.x86_64","kernelversion":"3.10.0","load_averages":{"15m":0.09,"1m":0.11,"5m":0.07},"macaddress":"08:00:27:b5:29:2f","macaddress_enp0s3":"08:00:27:b5:29:2f","macaddress_enp0s8":"08:00:27:cb:8d:95","manufacturer":"innotek GmbH","memory":{"swap":{"available":"817.25 MiB","available_bytes":856944640,"capacity":"0.34%","total":"820.00 MiB","total_bytes":859828224,"used":"2.75 MiB","used_bytes":2883584},"system":{"available":"638.24 MiB","available_bytes":669241344,"capacity":"35.61%","total":"991.17 MiB","total_bytes":1039314944,"used":"352.93 MiB","used_bytes":370073600}},"memoryfree":"638.24 MiB","memoryfree_mb":638.23828125,"memorysize":"991.17 MiB","memorysize_mb":991.16796875,"mountpoints":{"/":{"available":"3.99 GiB","available_bytes":4282822656,"capacity":"35.52%","device":"/dev/mapper/centos-root","filesystem":"xfs","options":["rw","seclabel","relatime","attr2","inode64","noquota"],"size":"6.19 GiB","size_bytes":6641680384,"used":"2.20 GiB","used_bytes":2358857728},"/boot":{"available":"821.47 MiB","available_bytes":861372416,"capacity":"18.99%","device":"/dev/sda1","filesystem":"xfs","options":["rw","seclabel","relatime","attr2","inode64","noquota"],"size":"1014.00 MiB","size_bytes":1063256064,"used":"192.53 MiB","used_bytes":201883648},"/dev":{"available":"483.92 MiB","available_bytes":507428864,"capacity":"0%","device":"devtmpfs","filesystem":"devtmpfs","options":["rw","seclabel","nosuid","size=495536k","nr_inodes=123884","mode=755"],"size":"483.92 MiB","size_bytes":507428864,"used":"0 bytes","used_bytes":0},"/dev/hugepages":{"available":"0 bytes","available_bytes":0,"capacity":"100%","device":"hugetlbfs","filesystem":"hugetlbfs","options":["rw","seclabel","relatime"],"size":"0 bytes","size_bytes":0,"used":"0 bytes","used_bytes":0},"/dev/mqueue":{"available":"0 bytes","available_bytes":0,"capacity":"100%","device":"mqueue","filesystem":"mqueue","options":["rw","seclabel","relatime"],"size":"0 bytes","size_bytes":0,"used":"0 bytes","used_bytes":0},"/dev/pts":{"available":"0 bytes","available_bytes":0,"capacity":"100%","device":"devpts","filesystem":"devpts","options":["rw","seclabel","nosuid","noexec","relatime","gid=5","mode=620","ptmxmode=000"],"size":"0 bytes","size_bytes":0,"used":"0 bytes","used_bytes":0},"/dev/shm":{"available":"495.58 MiB","available_bytes":519655424,"capacity":"0%","device":"tmpfs","filesystem":"tmpfs","options":["rw","seclabel","nosuid","nodev"],"size":"495.58 MiB","size_bytes":519655424,"used":"0 bytes","used_bytes":0},"/run":{"available":"482.57 MiB","available_bytes":506011648,"capacity":"2.63%","device":"tmpfs","filesystem":"tmpfs","options":["rw","seclabel","nosuid","nodev","mode=755"],"size":"495.58 MiB","size_bytes":519655424,"used":"13.01 MiB","used_bytes":13643776},"/run/user/0":{"available":"99.12 MiB","available_bytes":103931904,"capacity":"0%","device":"tmpfs","filesystem":"tmpfs","options":["rw","seclabel","nosuid","nodev","relatime","size=101496k","mode=700"],"size":"99.12 MiB","size_bytes":103931904,"used":"0 bytes","used_bytes":0},"/run/user/1000":{"available":"99.12 MiB","available_bytes":103931904,"capacity":"0%","device":"tmpfs","filesystem":"tmpfs","options":["rw","seclabel","nosuid","nodev","relatime","size=101496k","mode=700","uid=1000","gid=1000"],"size":"99.12 MiB","size_bytes":103931904,"used":"0 bytes","used_bytes":0},"/sys/fs/cgroup":{"available":"495.58 MiB","available_bytes":519655424,"capacity":"0%","device":"tmpfs","filesystem":"tmpfs","options":["ro","seclabel","nosuid","nodev","noexec","mode=755"],"size":"495.58 MiB","size_bytes":519655424,"used":"0 bytes","used_bytes":0}},"mtu_enp0s3":1500,"mtu_enp0s8":1500,"mtu_lo":65536,"netmask":"255.255.255.0","netmask6":"ffff:ffff:ffff:ffff::","netmask6_enp0s3":"ffff:ffff:ffff:ffff::","netmask6_enp0s8":"ffff:ffff:ffff:ffff::","netmask6_lo":"ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff","netmask_enp0s3":"255.255.255.0","netmask_enp0s8":"255.255.255.0","netmask_lo":"255.0.0.0","network":"10.0.2.0","network6":"fe80::","network6_enp0s3":"fe80::","network6_enp0s8":"fe80::","network6_lo":"::1","network_enp0s3":"10.0.2.0","network_enp0s8":"192.168.167.0","network_lo":"127.0.0.0","networking":{"dhcp":"10.0.2.2","domain":"home","fqdn":"prometeo.home","hostname":"prometeo","interfaces":{"enp0s3":{"bindings":[{"address":"10.0.2.15","netmask":"255.255.255.0","network":"10.0.2.0"}],"bindings6":[{"address":"fe80::a1d1:d393:b45b:5c5c","netmask":"ffff:ffff:ffff:ffff::","network":"fe80::"}],"dhcp":"10.0.2.2","ip":"10.0.2.15","ip6":"fe80::a1d1:d393:b45b:5c5c","mac":"08:00:27:b5:29:2f","mtu":1500,"netmask":"255.255.255.0","netmask6":"ffff:ffff:ffff:ffff::","network":"10.0.2.0","network6":"fe80::","scope6":"link"},"enp0s8":{"bindings":[{"address":"192.168.167.151","netmask":"255.255.255.0","network":"192.168.167.0"}],"bindings6":[{"address":"fe80::a00:27ff:fecb:8d95","netmask":"ffff:ffff:ffff:ffff::","network":"fe80::"}],"ip":"192.168.167.151","ip6":"fe80::a00:27ff:fecb:8d95","mac":"08:00:27:cb:8d:95","mtu":1500,"netmask":"255.255.255.0","netmask6":"ffff:ffff:ffff:ffff::","network":"192.168.167.0","network6":"fe80::","scope6":"link"},"lo":{"bindings":[{"address":"127.0.0.1","netmask":"255.0.0.0","network":"127.0.0.0"}],"bindings6":[{"address":"::1","netmask":"ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff","network":"::1"}],"ip":"127.0.0.1","ip6":"::1","mtu":65536,"netmask":"255.0.0.0","netmask6":"ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff","network":"127.0.0.0","network6":"::1","scope6":"host"}},"ip":"10.0.2.15","ip6":"fe80::a1d1:d393:b45b:5c5c","mac":"08:00:27:b5:29:2f","mtu":1500,"netmask":"255.255.255.0","netmask6":"ffff:ffff:ffff:ffff::","network":"10.0.2.0","network6":"fe80::","primary":"enp0s3","scope6":"link"},"operatingsystem":"CentOS","operatingsystemmajrelease":"7","operatingsystemrelease":"7.8.2003","os":{"architecture":"x86_64","family":"RedHat","hardware":"x86_64","name":"CentOS","release":{"full":"7.8.2003","major":"7","minor":"8"},"selinux":{"config_mode":"permissive","current_mode":"permissive","enabled":true,"enforced":false,"policy_version":"31"}},"osfamily":"RedHat","partitions":{"/dev/mapper/centos-root":{"filesystem":"xfs","mount":"/","size":"6.20 GiB","size_bytes":6652166144,"uuid":"f2c70525-1b6f-4c49-9de3-a71960975b1c"},"/dev/mapper/centos-swap":{"filesystem":"swap","size":"820.00 MiB","size_bytes":859832320,"uuid":"8ada29f8-9ae5-4b57-8c70-ca4446b941f7"},"/dev/sda1":{"filesystem":"xfs","mount":"/boot","size":"1.00 GiB","size_bytes":1073741824,"uuid":"30da204f-63e9-4360-9d2d-95f1c9ea7879"},"/dev/sda2":{"filesystem":"LVM2_member","size":"7.00 GiB","size_bytes":7515144192,"uuid":"zd0k4m-Z5JF-h8Gh-YfNY-MQ6c-Dl2N-tzLChG"}},"path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/puppetlabs/bin:/sbin","physicalprocessorcount":1,"processor0":"Intel(R) Core(TM) i7-8550U CPU @ 1.80GHz","processorcount":1,"processors":{"count":1,"isa":"x86_64","models":["Intel(R) Core(TM) i7-8550U CPU @ 1.80GHz"],"physicalcount":1},"productname":"VirtualBox","puppetversion":"6.17.0","ruby":{"platform":"x86_64-linux","sitedir":"/opt/puppetlabs/puppet/lib/ruby/site_ruby/2.5.0","version":"2.5.8"},"rubyplatform":"x86_64-linux","rubysitedir":"/opt/puppetlabs/puppet/lib/ruby/site_ruby/2.5.0","rubyversion":"2.5.8","scope6":"link","scope6_enp0s3":"link","scope6_enp0s8":"link","scope6_lo":"host","selinux":true,"selinux_config_mode":"permissive","selinux_current_mode":"permissive","selinux_enforced":false,"selinux_policyversion":"31","serialnumber":"0","ssh":{"ecdsa":{"fingerprints":{"sha1":"SSHFP 3 1 787aca6b36d673e24ecf9ac5bd46d42400acb8a9","sha256":"SSHFP 3 2 182cc9dc77773cf91cdff157b2419793d5a26f941cfe15b39342adb3bc707362"},"key":"AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCer3Hy+q13nwIvyRAIhH2rfhKHq03aTTDe/PUWh2PqBDlMoPd3nyJ5yQI8UwT8EEzSny50qV27vvmOeTlYo5Gs=","type":"ecdsa-sha2-nistp256"},"ed25519":{"fingerprints":{"sha1":"SSHFP 4 1 570af151cb6c1bce645d0fc38893c8d65152562b","sha256":"SSHFP 4 2 a99a0ecbb6da853cc95b5d1b895541c79415e19d102dd28b1ea017219af6edc6"},"key":"AAAAC3NzaC1lZDI1NTE5AAAAIGr5dZ+oIm58CboBiAifwWD8GJLwsMSteH4Y6Odvh9hF","type":"ssh-ed25519"},"rsa":{"fingerprints":{"sha1":"SSHFP 1 1 d87ec13ab14b992cad32c3ef7b48821e696cdfa0","sha256":"SSHFP 1 2 3e34e71c3066c2277442f4f7b19e4050769f3d2fe3934437db31f297c2521544"},"key":"AAAAB3NzaC1yc2EAAAADAQABAAABAQDQZdEN74UVELg1Zux+G5pZxeU54MkWX+YBpjmjhnHD8YFSRPrhuZib7Ezed/IUyVG6xJzr7zjPo3deGYnZubTDVzblF0Ay2BSZ7g9pycI+yurbwgCrCAzFVUH6nlCpBywUxCflJ2jyci9pFReClSa3JU955ftXNLorCcn6RZm9JXrQsaXZjrY+AvXi8KYbt8SAyykyMtmVabTReI9yFgoN9ki2WoUhn6G+1LzwQON8A7KeCX35Aq4F9uBJzlMPBWFw7YNSBTze+yqAx/sseQ8mWo3Z8XfGbUBP42LUEzmc5UKE4owPVzfS4NPH9syhG9fat5zlnV/qDEYZuFoeXxR3","type":"ssh-rsa"}},"sshecdsakey":"AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCer3Hy+q13nwIvyRAIhH2rfhKHq03aTTDe/PUWh2PqBDlMoPd3nyJ5yQI8UwT8EEzSny50qV27vvmOeTlYo5Gs=","sshed25519key":"AAAAC3NzaC1lZDI1NTE5AAAAIGr5dZ+oIm58CboBiAifwWD8GJLwsMSteH4Y6Odvh9hF","sshfp_ecdsa":"SSHFP 3 1 787aca6b36d673e24ecf9ac5bd46d42400acb8a9\nSSHFP 3 2 182cc9dc77773cf91cdff157b2419793d5a26f941cfe15b39342adb3bc707362","sshfp_ed25519":"SSHFP 4 1 570af151cb6c1bce645d0fc38893c8d65152562b\nSSHFP 4 2 a99a0ecbb6da853cc95b5d1b895541c79415e19d102dd28b1ea017219af6edc6","sshfp_rsa":"SSHFP 1 1 d87ec13ab14b992cad32c3ef7b48821e696cdfa0\nSSHFP 1 2 3e34e71c3066c2277442f4f7b19e4050769f3d2fe3934437db31f297c2521544","sshrsakey":"AAAAB3NzaC1yc2EAAAADAQABAAABAQDQZdEN74UVELg1Zux+G5pZxeU54MkWX+YBpjmjhnHD8YFSRPrhuZib7Ezed/IUyVG6xJzr7zjPo3deGYnZubTDVzblF0Ay2BSZ7g9pycI+yurbwgCrCAzFVUH6nlCpBywUxCflJ2jyci9pFReClSa3JU955ftXNLorCcn6RZm9JXrQsaXZjrY+AvXi8KYbt8SAyykyMtmVabTReI9yFgoN9ki2WoUhn6G+1LzwQON8A7KeCX35Aq4F9uBJzlMPBWFw7YNSBTze+yqAx/sseQ8mWo3Z8XfGbUBP42LUEzmc5UKE4owPVzfS4NPH9syhG9fat5zlnV/qDEYZuFoeXxR3","sudoversion":"1.8.23","swapfree":"817.25 MiB","swapfree_mb":817.24609375,"swapsize":"820.00 MiB","swapsize_mb":819.99609375,"system_uptime":{"days":1,"hours":46,"seconds":168181,"uptime":"1 day"},"timezone":"CEST","uptime":"1 day","uptime_days":1,"uptime_hours":46,"uptime_seconds":168181,"uuid":"9CF0A9A1-FE61-41DA-B449-7DE4286D45E0","virtual":"virtualbox","clientcert":"prometeo.home","clientversion":"6.17.0","clientnoop":false}}
2020-08-10T08:17:27.912025 INFO   Bolt::Outputter::Logger: Finished: task apply_helpers::custom_facts with 0 failures in 2.22 sec
2020-08-10T08:17:27.912399 INFO   Bolt::Outputter::Logger: Finished: install puppet and gather facts with 0 failures in 3.2 sec
2020-08-10T08:17:27.914805 INFO   Bolt::Outputter::Logger: Starting: apply catalog on 192.168.167.151
2020-08-10T08:17:27.914888 INFO   Bolt::Executor: Applying manifest block on ["192.168.167.151"]
2020-08-10T08:17:27.915938 INFO   Bolt::Executor: Compiling manifest block on ["192.168.167.151"]
2020-08-10T08:17:33.480692 INFO   Bolt::Executor: {"tags":["settings","sudo::params","sudo","params","sudo::package","package","class"],"name":"192.168.167.151","version":1597040249,"code_id":null,"catalog_uuid":"99a3d73d-0336-4481-be9c-56cf2bc6e0a7","catalog_format":1,"environment":"bolt_catalog","resources":[{"type":"Stage","title":"main","tags":["stage","class"],"exported":false,"parameters":{"name":"main"}},{"type":"Class","title":"Settings","tags":["class","settings"],"exported":false},{"type":"Class","title":"main","tags":["class"],"exported":false,"parameters":{"name":"main"}},{"type":"User","title":"fernando","tags":["user","fernando","class"],"file":"/root/my_projects_bolt/server_setup/plans/deploy.pp","line":16,"exported":false,"parameters":{"ensure":"present","groups":["wheel"],"membership":"minimum"}},{"type":"Sudo::Conf","title":"wheel","tags":["sudo::conf","sudo","conf","wheel","class"],"file":"/root/my_projects_bolt/server_setup/plans/deploy.pp","line":24,"exported":false,"parameters":{"ensure":"present","content":"%wheel ALL=(ALL) NOPASSWD: ALL","priority":10,"sudo_syntax_path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"}},{"type":"Ssh_authorized_key","title":"notebook","tags":["ssh_authorized_key","notebook","class"],"file":"/root/my_projects_bolt/server_setup/plans/deploy.pp","line":30,"exported":false,"parameters":{"ensure":"present","user":"fernando","type":"ssh-rsa","key":"AAAAB3NzaC1yc2EAAAADAQABAAABgQCskr4gKnrzHBF9f0xCMKlA88rfPipeE5Kg0bh51mhyBTvJxp9RvPY2j1idmvzGGrYcMRSik6r9Kd5Ga5lC8RTXVPZPBLMv8DP16K6r5iXnEr1M+qdT4Klg87S5v1Sl4YvV4sEw3VJRU2AC4NpJGRYmbMMNaB/wTRa7wqEN+3wUdOZmGIsSMr4VR6t6Efx0VmUgLZXkUdRJ+m8YCSDiiy4juGY52KlXexDKcF0z5SfQZzCh643SuP66w4F62+z5F0K5k41dMwbyGtI3rmxitvnID4vOR1FOwA9rLnWsrnQdrmaMxkB+P3WT27bxOc8l/aVl1/dc1dA3l7eOHUTdrTw1UCjOY1gmHhQZMTED3qVBK1tbPrdATR2+gMAywCXiNZmgQ8tKWZ804ACc+prlsclIQoIGr/oJUDZYcQg19WwARWphbeDyv70Z3PMSdcUztkmWZ00jwfP0EDCckRKsQ/i4I0mfC4y1zIPAnyn7LN+2jnCalxsEh5DSIHhQSSnYxMk=","require":"User[fernando]"}},{"type":"Package","title":"chrony","tags":["package","chrony","class"],"file":"/root/my_projects_bolt/server_setup/plans/deploy.pp","line":39,"exported":false,"parameters":{"ensure":"absent"}},{"type":"Yumrepo","title":"konimex-neofetch-epel-7","tags":["yumrepo","konimex-neofetch-epel-7","class"],"file":"/root/my_projects_bolt/server_setup/plans/deploy.pp","line":44,"exported":false,"parameters":{"ensure":"present","baseurl":"https://copr.fedorainfracloud.org/coprs/konimex/neofetch/repo/epel-7/konimex-neofetch-epel-7.repo"}},{"type":"Class","title":"Sudo::Params","tags":["class","sudo::params","sudo","params","sudo::conf","conf","wheel"],"exported":false},{"type":"Class","title":"Sudo","tags":["class","sudo","sudo::conf","conf","wheel"],"exported":false,"parameters":{"enable":true,"package":"sudo","package_ldap":"sudo","package_ensure":"present","package_source":"","package_admin_file":"","purge":true,"config_file":"/etc/sudoers","config_file_replace":true,"config_file_mode":"0440","config_dir":"/etc/sudoers.d","config_dir_mode":"0550","content":"sudo/sudoers.rhel7.erb","ldap_enable":false,"delete_on_error":true,"validate_single":false,"config_dir_keepme":false,"use_sudoreplay":false,"configs":{}}},{"type":"Class","title":"Sudo::Package","tags":["class","sudo::package","sudo","package","sudo::conf","conf","wheel"],"file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/init.pp","line":159,"exported":false,"parameters":{"package":"sudo","package_ensure":"present","package_source":"","package_admin_file":"","ldap_enable":false,"before":["File[/etc/sudoers]","File[/etc/sudoers.d]","Anchor[sudo::end]"]}},{"type":"Package","title":"sudo","tags":["package","sudo","class","sudo::package","sudo::conf","conf","wheel"],"file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/package.pp","line":77,"exported":false,"parameters":{"ensure":"present"}},{"type":"File","title":"/etc/sudoers","tags":["file","class","sudo","sudo::conf","conf","wheel"],"file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/init.pp","line":169,"exported":false,"parameters":{"ensure":"present","owner":"root","group":"root","mode":"0440","replace":true,"content":"# file managed by puppet (unless config_file_replace=false)\n#\n## Sudoers allows particular users to run various commands as\n## the root user, without needing the root password.\n##\n## Examples are provided at the bottom of the file for collections\n## of related commands, which can then be delegated out to particular\n## users or groups.\n## \n## This file must be edited with the 'visudo' command.\n\n## Host Aliases\n## Groups of machines. You may prefer to use hostnames (perhaps using \n## wildcards for entire domains) or IP addresses instead.\n# Host_Alias     FILESERVERS = fs1, fs2\n# Host_Alias     MAILSERVERS = smtp, smtp2\n\n## User Aliases\n## These aren't often necessary, as you can use regular groups\n## (ie, from files, LDAP, NIS, etc) in this file - just use %groupname \n## rather than USERALIAS\n# User_Alias ADMINS = jsmith, mikem\n\n\n## Command Aliases\n## These are groups of related commands...\n\n## Networking\n# Cmnd_Alias NETWORKING = /sbin/route, /sbin/ifconfig, /bin/ping, /sbin/dhclient, /usr/bin/net, /sbin/iptables, /usr/bin/rfcomm, /usr/bin/wvdial, /sbin/iwconfig, /sbin/mii-tool\n\n## Installation and management of software\n# Cmnd_Alias SOFTWARE = /bin/rpm, /usr/bin/up2date, /usr/bin/yum\n\n## Services\n# Cmnd_Alias SERVICES = /sbin/service, /sbin/chkconfig, /usr/bin/systemctl start, /usr/bin/systemctl stop, /usr/bin/systemctl reload, /usr/bin/systemctl restart, /usr/bin/systemctl status, /usr/bin/systemctl enable, /usr/bin/systemctl disable\n\n## Updating the locate database\n# Cmnd_Alias LOCATE = /usr/bin/updatedb\n\n## Storage\n# Cmnd_Alias STORAGE = /sbin/fdisk, /sbin/sfdisk, /sbin/parted, /sbin/partprobe, /bin/mount, /bin/umount\n\n## Delegating permissions\n# Cmnd_Alias DELEGATING = /usr/sbin/visudo, /bin/chown, /bin/chmod, /bin/chgrp \n\n## Processes\n# Cmnd_Alias PROCESSES = /bin/nice, /bin/kill, /usr/bin/kill, /usr/bin/killall\n\n## Drivers\n# Cmnd_Alias DRIVERS = /sbin/modprobe\n\n# Defaults specification\n\n# Refuse to run if unable to disable echo on the tty. This setting should also be\n# changed in order to be able to use sudo without a tty. See requiretty above.\n#\nDefaults   !visiblepw\n\n#\n# Preserving HOME has security implications since many programs\n# use it when searching for configuration files. Note that HOME\n# is already set when the the env_reset option is enabled, so\n# this option is only effective for configurations where either\n# env_reset is disabled or HOME is present in the env_keep list.\n#\nDefaults    always_set_home\n\nDefaults    env_reset\nDefaults    env_keep =  \"COLORS DISPLAY HOSTNAME HISTSIZE KDEDIR LS_COLORS\"\nDefaults    env_keep += \"MAIL PS1 PS2 QTDIR USERNAME LANG LC_ADDRESS LC_CTYPE\"\nDefaults    env_keep += \"LC_COLLATE LC_IDENTIFICATION LC_MEASUREMENT LC_MESSAGES\"\nDefaults    env_keep += \"LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER LC_TELEPHONE\"\nDefaults    env_keep += \"LC_TIME LC_ALL LANGUAGE LINGUAS _XKB_CHARSET XAUTHORITY\"\n\n\n#\n# Adding HOME to env_keep may enable a user to run unrestricted\n# commands via sudo.\n#\n# Defaults   env_keep += \"HOME\"\n\nDefaults    secure_path = /usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/opt/puppetlabs/bin\n\n## Next comes the main part: which users can run what software on \n## which machines (the sudoers file can be shared between multiple\n## systems).\n## Syntax:\n##\n## \tuser\tMACHINE=COMMANDS\n##\n## The COMMANDS section may have other options added to it.\n##\n## Allow root to run any commands anywhere \nroot\tALL=(ALL) \tALL\n\n## Allows members of the 'sys' group to run networking, software, \n## service management apps and more.\n# %sys ALL = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS\n\n## Allows people in group wheel to run all commands\n%wheel\tALL=(ALL)\tALL\n\n## Same thing without a password\n# %wheel\tALL=(ALL)\tNOPASSWD: ALL\n\n## Allows members of the users group to mount and unmount the \n## cdrom as root\n# %users  ALL=/sbin/mount /mnt/cdrom, /sbin/umount /mnt/cdrom\n\n## Allows members of the users group to shutdown this system\n# %users  localhost=/sbin/shutdown -h now\n\n## Read drop-in files from /etc/sudoers.d (the # here does not mean a comment)\n#includedir /etc/sudoers.d\n"}},{"type":"File","title":"/etc/sudoers.d","tags":["file","class","sudo","sudo::conf","conf","wheel"],"file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/init.pp","line":178,"exported":false,"parameters":{"ensure":"directory","owner":"root","group":"root","mode":"0550","recurse":true,"purge":true}},{"type":"Anchor","title":"sudo::begin","tags":["anchor","sudo::begin","sudo","begin","class","sudo::conf","conf","wheel"],"file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/init.pp","line":203,"exported":false,"parameters":{"before":["Class[Sudo::Package]"]}},{"type":"Anchor","title":"sudo::end","tags":["anchor","sudo::end","sudo","end","class","sudo::conf","conf","wheel"],"file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/init.pp","line":205,"exported":false},{"type":"File","title":"10_wheel","tags":["file","10_wheel","sudo::conf","sudo","conf","wheel","class"],"file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/conf.pp","line":119,"exported":false,"parameters":{"path":"/etc/sudoers.d/10_wheel","ensure":"present","owner":"root","group":"root","mode":"0440","content":"# This file is managed by Puppet; changes may be overwritten\n%wheel ALL=(ALL) NOPASSWD: ALL\n","notify":"Exec[sudo-syntax-check for file /etc/sudoers.d/10_wheel]","require":"File[/etc/sudoers.d]"}},{"type":"Exec","title":"sudo-syntax-check for file /etc/sudoers.d/10_wheel","tags":["exec","sudo::conf","sudo","conf","wheel","class"],"file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/conf.pp","line":132,"exported":false,"parameters":{"command":"visudo -c || ( rm -f '/etc/sudoers.d/10_wheel' && exit 1)","refreshonly":true,"path":"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"}}],"edges":[{"source":"Stage[main]","target":"Class[Settings]"},{"source":"Stage[main]","target":"Class[main]"},{"source":"Class[main]","target":"User[fernando]"},{"source":"Class[main]","target":"Sudo::Conf[wheel]"},{"source":"Class[main]","target":"Ssh_authorized_key[notebook]"},{"source":"Class[main]","target":"Package[chrony]"},{"source":"Class[main]","target":"Yumrepo[konimex-neofetch-epel-7]"},{"source":"Stage[main]","target":"Class[Sudo::Params]"},{"source":"Stage[main]","target":"Class[Sudo]"},{"source":"Stage[main]","target":"Class[Sudo::Package]"},{"source":"Class[Sudo::Package]","target":"Package[sudo]"},{"source":"Class[Sudo]","target":"File[/etc/sudoers]"},{"source":"Class[Sudo]","target":"File[/etc/sudoers.d]"},{"source":"Class[Sudo]","target":"Anchor[sudo::begin]"},{"source":"Class[Sudo]","target":"Anchor[sudo::end]"},{"source":"Sudo::Conf[wheel]","target":"File[10_wheel]"},{"source":"Sudo::Conf[wheel]","target":"Exec[sudo-syntax-check for file /etc/sudoers.d/10_wheel]"}],"classes":["settings","sudo::params","sudo","sudo::package"]}
2020-08-10T08:17:37.795021 INFO   Bolt::Executor: [{"target":"192.168.167.151","action":"apply","object":null,"status":"success","value":{"report":{"host":"prometeo.home","time":"2020-08-10T08:17:36.393794712+02:00","configuration_version":1597040249,"transaction_uuid":null,"report_format":10,"puppet_version":"6.17.0","status":"unchanged","transaction_completed":true,"noop":false,"noop_pending":false,"environment":null,"logs":[{"level":"notice","message":"Applied catalog in 0.27 seconds","source":"Puppet","tags":["notice"],"time":"2020-08-10T08:17:37.751235867+02:00","file":null,"line":null}],"metrics":{"resources":{"name":"resources","label":"Resources","values":[["total","Total",9],["skipped","Skipped",0],["failed","Failed",0],["failed_to_restart","Failed to restart",0],["restarted","Restarted",0],["changed","Changed",0],["out_of_sync","Out of sync",0],["scheduled","Scheduled",0],["corrective_change","Corrective change",0]]},"time":{"name":"time","label":"Time","values":[["user","User",0.002601209],["ssh_authorized_key","Ssh authorized key",0.000257219],["package","Package",0.058234308],["yumrepo","Yumrepo",0.000411626],["file","File",0.005954513999999999],["exec","Exec",0.000145555],["config_retrieval","Config retrieval",0],["transaction_evaluation","Transaction evaluation",0.2559491940191947],["catalog_application","Catalog application",0.2700156450155191],["total","Total",1.357521488]]},"changes":{"name":"changes","label":"Changes","values":[["total","Total",0]]},"events":{"name":"events","label":"Events","values":[["total","Total",0],["failure","Failure",0],["success","Success",0]]}},"resource_statuses":{"User[fernando]":{"title":"fernando","file":"/root/my_projects_bolt/server_setup/plans/deploy.pp","line":16,"resource":"User[fernando]","resource_type":"User","provider_used":"useradd","containment_path":["Stage[main]","Main","User[fernando]"],"evaluation_time":0.002601209,"tags":["user","fernando","class"],"time":"2020-08-10T08:17:37.490379818+02:00","failed":false,"failed_to_restart":false,"changed":false,"out_of_sync":false,"skipped":false,"change_count":0,"out_of_sync_count":0,"events":[],"corrective_change":false},"Ssh_authorized_key[notebook]":{"title":"notebook","file":"/root/my_projects_bolt/server_setup/plans/deploy.pp","line":30,"resource":"Ssh_authorized_key[notebook]","resource_type":"Ssh_authorized_key","provider_used":"parsed","containment_path":["Stage[main]","Main","Ssh_authorized_key[notebook]"],"evaluation_time":0.000257219,"tags":["ssh_authorized_key","notebook","class"],"time":"2020-08-10T08:17:37.494306584+02:00","failed":false,"failed_to_restart":false,"changed":false,"out_of_sync":false,"skipped":false,"change_count":0,"out_of_sync_count":0,"events":[],"corrective_change":false},"Package[chrony]":{"title":"chrony","file":"/root/my_projects_bolt/server_setup/plans/deploy.pp","line":39,"resource":"Package[chrony]","resource_type":"Package","provider_used":"yum","containment_path":["Stage[main]","Main","Package[chrony]"],"evaluation_time":0.058052618,"tags":["package","chrony","class"],"time":"2020-08-10T08:17:37.627233279+02:00","failed":false,"failed_to_restart":false,"changed":false,"out_of_sync":false,"skipped":false,"change_count":0,"out_of_sync_count":0,"events":[],"corrective_change":false},"Yumrepo[konimex-neofetch-epel-7]":{"title":"konimex-neofetch-epel-7","file":"/root/my_projects_bolt/server_setup/plans/deploy.pp","line":44,"resource":"Yumrepo[konimex-neofetch-epel-7]","resource_type":"Yumrepo","provider_used":"inifile","containment_path":["Stage[main]","Main","Yumrepo[konimex-neofetch-epel-7]"],"evaluation_time":0.000411626,"tags":["yumrepo","konimex-neofetch-epel-7","class"],"time":"2020-08-10T08:17:37.696430584+02:00","failed":false,"failed_to_restart":false,"changed":false,"out_of_sync":false,"skipped":false,"change_count":0,"out_of_sync_count":0,"events":[],"corrective_change":false},"Package[sudo]":{"title":"sudo","file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/package.pp","line":77,"resource":"Package[sudo]","resource_type":"Package","provider_used":"yum","containment_path":["Stage[main]","Sudo::Package","Package[sudo]"],"evaluation_time":0.00018169,"tags":["package","sudo","class","sudo::package","sudo::conf","conf","wheel"],"time":"2020-08-10T08:17:37.700013686+02:00","failed":false,"failed_to_restart":false,"changed":false,"out_of_sync":false,"skipped":false,"change_count":0,"out_of_sync_count":0,"events":[],"corrective_change":false},"File[/etc/sudoers]":{"title":"/etc/sudoers","file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/init.pp","line":169,"resource":"File[/etc/sudoers]","resource_type":"File","provider_used":"posix","containment_path":["Stage[main]","Sudo","File[/etc/sudoers]"],"evaluation_time":0.002638617,"tags":["file","class","sudo","sudo::conf","conf","wheel"],"time":"2020-08-10T08:17:37.700637955+02:00","failed":false,"failed_to_restart":false,"changed":false,"out_of_sync":false,"skipped":false,"change_count":0,"out_of_sync_count":0,"events":[],"corrective_change":false},"File[/etc/sudoers.d]":{"title":"/etc/sudoers.d","file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/init.pp","line":178,"resource":"File[/etc/sudoers.d]","resource_type":"File","provider_used":"posix","containment_path":["Stage[main]","Sudo","File[/etc/sudoers.d]"],"evaluation_time":0.001660759,"tags":["file","class","sudo","sudo::conf","conf","wheel"],"time":"2020-08-10T08:17:37.731523131+02:00","failed":false,"failed_to_restart":false,"changed":false,"out_of_sync":false,"skipped":false,"change_count":0,"out_of_sync_count":0,"events":[],"corrective_change":false},"File[10_wheel]":{"title":"10_wheel","file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/conf.pp","line":119,"resource":"File[10_wheel]","resource_type":"File","provider_used":"posix","containment_path":["Stage[main]","Main","Sudo::Conf[wheel]","File[10_wheel]"],"evaluation_time":0.001655138,"tags":["file","10_wheel","sudo::conf","sudo","conf","wheel","class"],"time":"2020-08-10T08:17:37.733847111+02:00","failed":false,"failed_to_restart":false,"changed":false,"out_of_sync":false,"skipped":false,"change_count":0,"out_of_sync_count":0,"events":[],"corrective_change":false},"Exec[sudo-syntax-check for file /etc/sudoers.d/10_wheel]":{"title":"sudo-syntax-check for file /etc/sudoers.d/10_wheel","file":"/root/my_projects_bolt/server_setup/modules/sudo/manifests/conf.pp","line":132,"resource":"Exec[sudo-syntax-check for file /etc/sudoers.d/10_wheel]","resource_type":"Exec","provider_used":"posix","containment_path":["Stage[main]","Main","Sudo::Conf[wheel]","Exec[sudo-syntax-check for file /etc/sudoers.d/10_wheel]"],"evaluation_time":0.000145555,"tags":["exec","sudo::conf","sudo","conf","wheel","class"],"time":"2020-08-10T08:17:37.735705626+02:00","failed":false,"failed_to_restart":false,"changed":false,"out_of_sync":false,"skipped":false,"change_count":0,"out_of_sync_count":0,"events":[],"corrective_change":false}},"corrective_change":false,"catalog_uuid":"99a3d73d-0336-4481-be9c-56cf2bc6e0a7","cached_catalog_status":"not_used"},"_output":"changed: 0, failed: 0, unchanged: 9 skipped: 0, noop: 0"}}]
2020-08-10T08:17:37.797481 INFO   Bolt::Outputter::Logger: Finished: apply catalog with 0 failures in 9.88 sec
2020-08-10T08:17:37.797584 NOTICE Bolt::Outputter::Logger: Finished: plan server_setup::deploy in 13.11 sec
